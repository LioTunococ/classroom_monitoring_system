{% extends 'attendance/base.html' %}
{% block content %}
<h1 class="h5">Import Non-School Days (Holiday/Class Suspension)</h1>

<form method="post" enctype="multipart/form-data" class="mt-3">{% csrf_token %}
  <div class="row g-3 align-items-end">
    <div class="col-md-4">
      <label class="form-label">School Year</label>
      <select name="schoolyear_id" class="form-select" required>
        <option value="">-- Select --</option>
        {% for sy in schoolyears %}
          <option value="{{ sy.id }}">{{ sy.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-5">
      <label class="form-label">CSV File</label>
      <input type="file" name="file" class="form-control" accept=".csv" required>
      <div class="form-text">Header: date,kind,title,notes. Date format: YYYY-MM-DD. Kind: HOL or SUS (or names).</div>
    </div>
    <div class="col-md-3 text-end">
      <button class="btn btn-primary" type="submit">Upload</button>
    </div>
  </div>
</form>

<div class="mt-4">
  <h2 class="h6">Example CSV</h2>
  <pre class="bg-light p-2 small">date,kind,title,notes
2025-06-12,HOL,Independence Day,
2025-06-20,SUS,City-wide suspension,Heavy rains</pre>
</div>

<div class="mt-3">
  <a href="{% url 'attendance:report_form' %}" class="btn btn-outline-secondary">Back to Reports</a>
</div>
{% endblock %}
